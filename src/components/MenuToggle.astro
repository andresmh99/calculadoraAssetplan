---
import { menu } from "./Header.astro";
import Menu from "./icons/Menu.astro";
import MenuStaggered from "./icons/MenuStaggered.astro";
---

<details class="relative md:hidden">
  <summary class="list-none cursor-pointer flex items-center">
    <Menu class="size-5 closed" />
    <MenuStaggered class="size-5 hidden open" />
  </summary>
  <ul
    class="absolute right-0 bg-white p-4 grid gap-3 rounded-lg shadow-lg ttransition-all duration-300 ease-in-out transform scale-95 origin-top opacity-0"
  >
    {
      menu.map((item) => (
        <li class="px-2">
          <a href={item.link}>{item.name}</a>
        </li>
      ))
    }
  </ul>
</details>

<style>
  details[open] > summary > .closed {
    display: none;
  }

  details[open] > summary > .open {
    display: block;
  }
  details:not([open]) > ul {
    transform: scale(0.95);
    opacity: 0;
  }

  details[open] > ul {
    transform: scale(1);
    opacity: 1;
  }
</style>
